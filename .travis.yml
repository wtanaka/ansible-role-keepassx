language: ruby
rvm:
- 2.2
#- 2.1
#- 2.0
- 1.9.3

#cache:
#  directories:
#  - role-tester-ansible-master/.bootci/venv-ansible1.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.4.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.5.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.6.1
#  - role-tester-ansible-master/.bootci/venv-ansible1.7.2
#  - role-tester-ansible-master/.bootci/venv-ansible1.8.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.9.2
#  - role-tester-ansible-master/.bootci/venv-ansible2.0.0.2
#  - role-tester-ansible-master/.bootci/venv-ansible2.1.0.0
#  - role-tester-ansible-master/.bootci/venv-ansible2.5.1
#  - role-tester-ansible-master/vendor/bundle

env:
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=2.0.0.2
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=2.0.0.2
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=2.0.0.2
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=2.1.0.0
sudo: false
services:
- docker
script:
- >
  wget -O- bit.ly/ansibletest | env sh -x
after_failure:
- cat role-tester-ansible-master/.kitchen/logs/*.log | grep -v '^I, '
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    on_success: change
    on_failure: change
    rooms:
    - secure: Tcr+Y39u4ToifiDHkcn2Heu8NqKWZ3rEuIQtVakSAGcKRULFzIAG6GYmB+lAZ5cYDNzpWP/lMrnkKmla3O69j9MdbB/DgjH6lQ+pbpUS928Lj6ABOODhVHshwx5ADIY2S5TU/Ha1DOf9d08a02kHQ2G/wObgyEpltdDMqDcE4DnjrFMzyEm2mJVQ74VrigSFUwqKvCfER8hg+7c5EVI8eajvedRcbuwbAIrOkKWmMCLkyUEa8M5kWdqOZdE5Q0GwiZsPsefJ540Or6kxkQqdq+bM05vCo/VcjIFm8aWeEjl8sXJmmgV2sraIrrgYb+aaSySh3K6gWDgikj77i827zcmzmTJv4C06T1G4mIPhJqz/TjXC/H9xM7pfcgSM8XonK5eHT0kg2XWrF8UMxVdMYa3hn7AWO+KuYiV3HyT0AO598Ly6aRPI2YAjW9Iue2pmhSNZn/27gYqcbW2EOSFwbcMwQsKk/lKgkuPOFyIe+fxs477pbRwvwxKCcH4Elq7EH+QFr7XLNyoMRWO740iOZskYyF6069eubxXVmx6gOFBS3kvJjRzgwzamRLm7h4uBreOJ6K4/ityJo4kpuNdxEnaYBwTY7WKQdt2CxQO65YOsifT7Ajjil8bKniU672OtAqbspFvVgRYkLzP+kwIsZ3VC+qCHIPAJ6Fln9PJHKCI=
  email:
    recipients:
      secure: lRr0rfPUtK3SethXOY70ZEJgbj+bZ+D2esoiAwBIx7r7NlcsYVUbOt5iZDaUxgHQnTcCpJ1NPw9tiDgiKPG8hz15Yh4YnlMxUwVwqgqzJvsXlB9VyDfZfsZl7tx3f3yKC7C4vJ4bnOPb0bwnGxruqsD13N1X0WiCDeyBDTbvwvBV1tuGORIjgYDJ+32Eep6H7YBdLmpZZ7AYKBtRkFEoo9uxr14R4rHwL50qzoV0oz/cEgWbVIFU58eYD1pxoygGG3BBX/uXiSKlGLwp6xZU8qS8bjIIbghFLRCqOHN/K7AfUQ7VJD8EYF83AYrNnDpufIOgJOFeu0pvDw0zlo+/dXgI8zv1CBTs1L2PAl6IYNYSj3sVsr69UPzJH9jgPNecErPjI1c0LadKdQb1qYC+M21iFt+FTZHKrnucdgAgZVs5ZINfjXDB1gFDc3TdwQKVR+M+8AQXLMgocIwlywrfoWfm0CUbI9W53thhgVx7SlThmcwet/pPOsuOH4aGqcOrbvJ8sRPYPl7aDcw1kOICkYdrQkofctLY0l4UOiJRt5Qr5knD1KoVNxqF2I1yXQQ0qT3frgbMQ9n3wAbCUxlK+2Oc7DrAfZTBYrPuuuhWfvl5QIbJlu9dvLcEh6p1lZbv/aCsfQeKCrQYATbeQTI4MfeF3PZiJTIO+J2CCevvdc8=
